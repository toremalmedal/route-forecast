syntax = "proto3";
package route_forecast;

service RouteForecast{
  rpc GetRouteWithForecast (RouteWithForecastRequest) returns (RouteWithForecastResponse);
  rpc GetPlace (PlaceRequest) returns (PlaceResponse);
}

message PlaceRequest{
  string name = 1;
  optional string municipality = 2;
}

message PlaceResponse{
  repeated Place place = 1;
}

message Place{
  Coordinate point = 1;
  string name = 2;
  optional string municipality = 3;
}

message Step{
  double distance = 1;
  double dration = 2;
  int64 type_field = 3;
  string instruction = 4;
  string name = 5;
  repeated int64 way_points = 6;
}

message Coordinate{
  double longitude = 1;
  double latitude = 2;
}

message RouteWithForecastRequest{
  repeated Coordinate coordinates = 1;
  double number_of_forecasts = 2;
}

message Forecast {
  Coordinate position = 1;
  double air_temperature = 2;
  string symbol_code = 3;
  optional double wind_speed = 4;
  optional double wind_speed_of_gust = 5;
  optional ForecastNextHour next_hour = 6;
  string time = 7;
  double duration = 8;
}

message ForecastNextHour {
  optional double air_temperature_min = 1;
  optional double air_temperature_max = 2;
  optional double precipitation_amount_min = 3;
  optional double precipitation_amount_max = 4;
  optional double probability_of_precipitation = 5;
  optional double precipitation_amount = 6;

}

message RouteWithForecastResponse {
  repeated Forecast forecasts = 1;
  repeated Step steps = 2;
  repeated Coordinate coords = 3;
}
